import{d as _,u as C,c as r,o as n,a as e,F as v,r as b,b as p,e as $,n as S,t as u,f as B,g as x,h as E,i as P,j as m,k as I,w as U,l as W,m as z,p as L,q as V,s as O,v as Y}from"./framework.82a91Q8J.js";const Z={class:"container"},G={class:"menu"},J=["href"],K=_({__name:"Header",setup(i){const t=C().site.value.base,a=[{icon:"fa-home",name:"首页",url:""},{icon:"fa-tag",name:"标签",url:"tags/"},{icon:"fa-leaf",name:"关于",url:"readme.html"}];return(s,l)=>(n(),r("header",null,[l[0]||(l[0]=e("span",{class:"brand"},null,-1)),e("span",Z,[e("span",G,[e("ul",null,[(n(),r(v,null,b(a,o=>e("li",null,[e("a",{href:p(t)+o.url},[e("span",null,[e("i",{class:S(["fa",o.icon])},null,2),$(" "+u(o.name),1)])],8,J)])),64))])])]),l[1]||(l[1]=e("span",{class:"other"},[e("a",{class:"search"},[e("i",{class:"fa fa-search"})])],-1))]))}}),Q=["data-text"],X=_({__name:"GlitchText",props:{text:{}},setup(i){return(t,a)=>(n(),r("div",{class:"glitch","data-text":i.text},u(i.text),9,Q))}}),ee={class:"info"},te={class:"box"},se={class:"text"},ae={class:"contact"},ne=["href"],le=_({__name:"Banner",setup(i){const t=C().theme.value,a=t.hello||"Hello, sakura",s=t.motto||"You got to put the past behind you before you can move on.",l=t.social||[],o=t.cover;return(k,d)=>(n(),r("div",{class:"banner",style:B(`background-image: url(${p(o)})`)},[d[2]||(d[2]=e("div",{class:"wave1"},null,-1)),d[3]||(d[3]=e("div",{class:"wave2"},null,-1)),e("div",ee,[x(X,{text:p(a)},null,8,["text"]),e("span",te,[e("p",se,[d[0]||(d[0]=e("i",{class:"fa fa-quote-left"},null,-1)),$(" "+u(p(s))+" ",1),d[1]||(d[1]=e("i",{class:"fa fa-quote-right"},null,-1))]),e("div",ae,[(n(!0),r(v,null,b(p(l),y=>(n(),r("a",{href:y.url,"aria-label":"icon",target:"_blank"},[e("i",{class:S(["fab",y.icon])},null,2)],8,ne))),256))])])])],4))}}),g=JSON.parse(`[{"title":"测试文档","href":"posts/doc2.html","create":1758803211817,"update":1758803211817,"tags":["测试","算法","测试1","测试2","测试3","测试4","测试5","测试6","测试7"],"cover":"/vitepress-theme-sakura/60651947_p0.jpg","excerpt":"","data":{"title":"测试文档","tags":["测试","算法","测试1","测试2","测试3","测试4","测试5","测试6","测试7"],"cover":"/vitepress-theme-sakura/60651947_p0.jpg"}},{"title":"本页面的 github 仓库链接","href":"posts/comming-soon.html","create":1644537600000,"update":1758803211817,"excerpt":"<p><a href=\\"https://github.com/flaribbit/vitepress-theme-sakura\\" target=\\"_blank\\" rel=\\"noreferrer\\">点击这里</a></p>\\n<p>还在摸鱼中，当前预览不代表最终效果</p>\\n","data":{"title":"本页面的 github 仓库链接","date":"2022-02-11T00:00:00.000Z"}},{"title":"What is VitePress?","href":"posts/doc1.html","create":1640995200000,"update":1758803211817,"tags":["vue","vue3","vitepress"],"excerpt":"<p>VitePress is <a href=\\"https://vuepress.vuejs.org/\\" target=\\"_blank\\" rel=\\"noreferrer\\">VuePress</a>' little brother, built on top of <a href=\\"https://github.com/vitejs/vite\\" target=\\"_blank\\" rel=\\"noreferrer\\">Vite</a>.</p>\\n","data":{"title":"What is VitePress?","date":"2022-01-01T00:00:00.000Z","tags":["vue","vue3","vitepress"]}}]`);function oe(i,t){let a,s=!1;return()=>{a&&clearTimeout(a),s?a=setTimeout(i,t):(i(),s=!0,setTimeout(()=>{s=!1},t))}}const re={id:"waline"},ie=_({__name:"Waline",setup(i,{expose:t}){let a=null;E(()=>{const o=C().site.value.themeConfig.waline;if(!o){console.error("未配置waline服务端地址");return}s(o)});const s=o=>{a=Waline({el:"#waline",serverURL:o})};return t({update:()=>{a==null||a.update()}}),(o,k)=>(n(),r("div",re))}}),ce={class:"toc"},ue=["href"],de=_({__name:"TOC",props:{data:{default:()=>[]},active:{default:0}},setup(i){return(t,a)=>(n(),r("div",ce,[e("ol",null,[(n(!0),r(v,null,b(i.data,(s,l)=>(n(),r("li",{class:S(["h"+s.level,{active:i.active===l}])},[e("a",{href:"#"+s.slug},u(s.title),9,ue)],2))),256))])]))}}),he={class:"titlebox"},fe={class:"title"},pe={class:"info"},ve={class:"article"},_e={class:"content nav"},me=["href"],ge=["href"],$e=_({__name:"Article",setup(i){const t=C(),a=t.site.value.base,s=P(),l=m(""),o=t.theme.value.name,k=m(""),d=m(0),y=m(""),D=m(0),q=m(),h=I([{href:"",text:"",show:!0},{href:"",text:"",show:!0}]),T=m(0),M=()=>{var f;if(T.value=g.findIndex(w=>w.href==s.path.replace(a,"")),T.value==-1)return;l.value=t.page.value.title,y.value=`background-image: url(${t.page.value.frontmatter.cover||t.theme.value.cover})`,k.value=new Date(t.page.value.lastUpdated||g[T.value].create).toLocaleDateString("sv-SE"),(f=q.value)==null||f.update();let c=T.value;c-1>=0?(h[0].href=a+g[c-1].href,h[0].text=g[c-1].title,h[0].show=!0):h[0].show=!1,c+1<g.length?(h[1].href=a+g[c+1].href,h[1].text=g[c+1].title,h[1].show=!0):h[1].show=!1,typeof window<"u"&&O().then(()=>{F()})};M(),U(s,M);const N=()=>{const c=t.page.value.headers;if(c.length!=0){for(let f=0;f<c.length;f++){const w=document.getElementById(c[f].slug);if((w==null?void 0:w.getBoundingClientRect()).top>200){let j=" ";f>0&&(D.value=f-1,j="#"+c[f-1].slug),history.replaceState(null,document.title,j);return}}D.value=c.length-1,history.replaceState(null,document.title,"#"+c[c.length-1].slug)}},R=oe(N,300),F=()=>{if(typeof renderMathInElement>"u")return;const c=document.querySelector(".article .content");c&&renderMathInElement(c,{delimiters:[{left:"$$",right:"$$",display:!0},{left:"$",right:"$",display:!1}]})};return E(()=>{N(),window.addEventListener("scroll",R)}),W(()=>{window.removeEventListener("scroll",R)}),(c,f)=>{const w=z("Content");return n(),r(v,null,[T.value>=0?(n(),r("div",{key:0,class:"abanner",style:B(y.value)},[e("div",he,[e("h1",fe,u(l.value),1),e("div",pe,u(p(o))+" · 更新于 "+u(k.value)+" · "+u(d.value)+" 次阅读",1)])],4)):L("",!0),e("div",ve,[x(w,{class:"content"}),e("div",_e,[e("span",null,[h[0].show?(n(),r("a",{key:0,href:h[0].href},[f[0]||(f[0]=e("i",{class:"fa fa-angle-left"},null,-1)),$(" "+u(h[0].text),1)],8,me)):L("",!0)]),e("span",null,[h[1].show?(n(),r("a",{key:0,href:h[1].href},[$(u(h[1].text)+" ",1),f[1]||(f[1]=e("i",{class:"fa fa-angle-right"},null,-1))],8,ge)):L("",!0)])]),T.value!=-1?(n(),V(ie,{key:0,ref_key:"waline",ref:q},null,512)):L("",!0),x(de,{data:p(t).page.value.headers,active:D.value},null,8,["data","active"])])],64)}}}),xe={class:"bloglist"},we={class:"card"},be={class:"info"},ke={class:"date"},ye=["href"],Te={class:"title"},Ce=["innerHTML"],Le={key:0,class:"tags"},Se=["onClick"],Ee={key:1,class:"tags"},De=["href"],A=_({__name:"BlogList",props:{posts:{},click:{type:Function,default:null}},setup(i){const t=C().site.value.base;return(a,s)=>(n(),r("div",xe,[s[4]||(s[4]=e("div",{class:"section"},[e("i",{class:"fa-solid fa-book"}),$(" 文章列表 "),e("hr")],-1)),(n(!0),r(v,null,b(i.posts,l=>(n(),r("div",we,[s[3]||(s[3]=e("div",{class:"image"},null,-1)),e("div",be,[e("div",ke,[s[0]||(s[0]=e("i",{class:"fa fa-clock"},null,-1)),$(" 发布于 "+u(new Date(l.create).toLocaleDateString("sv-SE")),1)]),e("a",{href:p(t)+l.href},[e("div",Te,u(l.title),1)],8,ye),e("div",{class:"content",innerHTML:l.excerpt},null,8,Ce),i.click?(n(),r("div",Le,[(n(!0),r(v,null,b(l.tags,o=>(n(),r("a",{href:"#",onClick:k=>i.click(o)},[s[1]||(s[1]=e("i",{class:"fa fa-tag"},null,-1)),$(" "+u(o),1)],8,Se))),256))])):(n(),r("div",Ee,[(n(!0),r(v,null,b(l.tags,o=>(n(),r("a",{href:`${p(t)}tags/?q=${o}`},[s[2]||(s[2]=e("i",{class:"fa fa-tag"},null,-1)),$(" "+u(o),1)],8,De))),256))]))])]))),256))]))}}),Ve={class:"tag"},Be={class:"article"},qe=["onClick"],Me=_({__name:"Tag",setup(i){const t=m(null),a={},s=l=>{t.value=l,history.replaceState(null,document.title,"?q="+l)};for(const l of g)if(l.tags)for(const o of l.tags)a[o]||(a[o]=[]),a[o].push(l);return E(()=>{t.value=new URLSearchParams(location.search).get("q")}),(l,o)=>(n(),r("div",Ve,[e("div",Be,[(n(),r(v,null,b(a,(k,d)=>e("a",{class:S(["item",{active:t.value===d}]),href:"#",onClick:y=>s(d)},[e("span",null,u(d),1)],10,qe)),64))]),x(A,{posts:t.value?a[t.value]:[],click:s},null,8,["posts"])]))}}),H="top: -900px",Ne=_({__name:"ToTop",setup(i){const t=m(H),a=()=>{window.scrollY>200?window.innerWidth>720?t.value=`top: ${Math.min(window.innerHeight-968,0)}px`:t.value="top: -640px":t.value=H},s=()=>{window.scrollTo({top:0,behavior:"smooth"})};return E(()=>{window.addEventListener("scroll",a),a()}),W(()=>{window.removeEventListener("scroll",a)}),(l,o)=>(n(),r("a",{href:"#",class:"totop",onClick:s,style:B(t.value),"aria-label":"to-top"},null,4))}}),Re=_({__name:"Layout",setup(i){const t=C().site.value.base,a=P(),s=Y(()=>a.path.replace(t,"").replace("index.html",""));return(l,o)=>(n(),r(v,null,[x(K),o[0]||(o[0]=e("aside",null,null,-1)),e("main",null,[x(Ne),s.value===""?(n(),r(v,{key:0},[x(le),x(A,{posts:p(g)},null,8,["posts"])],64)):s.value==="tags/"?(n(),V(Me,{key:1})):(n(),V($e,{key:2}))])],64))}}),Pe={Layout:Re,NotFound:()=>"custom 404",enhanceApp({app:i,router:t,siteData:a}){}};export{Pe as R};
